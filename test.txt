

Thank you, Claude,

I ran: nickspi5@raspberrypi1:~ $ cd Chatty_AI
nickspi5@raspberrypi1:~/Chatty_AI $ source chatty-venv/bin/activate
(chatty-venv) nickspi5@raspberrypi1:~/Chatty_AI $ nano /home/nickspi5/Chatty_AI/chatty_ai_startup_final.sh

I modified my chatty_ai_startup_final.sh file to be:

#!/bin/bash
#
# Chatty AI Startup Script - Desktop Hidden Version
#

# Configuration
VIDEO_PATH="/home/nickspi5/Chatty_AI/Chatty_AI_starting.mp4"
LOADING_PAGE="/home/nickspi5/Chatty_AI/templates/chatty_loading.html"
BLACK_PAGE="/home/nickspi5/Chatty_AI/templates/black.html"
CHATTY_URL="http://localhost:5000"
LOG_FILE="/home/nickspi5/Chatty_AI/logs/startup.log"

# Create log directory
mkdir -p /home/nickspi5/Chatty_AI/logs

# Function to log messages
log_message() {
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] $1" | tee -a "$LOG_FILE"
}

# Start logging
log_message "========================================="
log_message "Chatty AI Startup Sequence Initiated"
log_message "========================================="

# Set display
export DISPLAY=:0
export XAUTHORITY=/home/nickspi5/.Xauthority

# Wait for desktop to be ready
log_message "Waiting for desktop..."
while ! pgrep -x "pcmanfm" > /dev/null; do
    sleep 1
done

# IMMEDIATELY cover desktop with black screen
log_message "Covering desktop with black screen..."
chromium-browser \
    --kiosk \
    --noerrdialogs \
    --disable-infobars \
    --start-fullscreen \
    --window-position=0,0 \
    --window-size=1920,1080 \
    "file://$BLACK_PAGE" 2>/dev/null &

BLACK_PID=$!
sleep 1  # Quick pause for black screen to render

# Play video directly (black screen stays underneath)
if [ -f "$VIDEO_PATH" ]; then
    log_message "Playing startup video..."
    cvlc --fullscreen --play-and-exit "$VIDEO_PATH" 2>/dev/null
    log_message "Video complete"
else
    log_message "Video not found"
fi

# Kill black screen
kill $BLACK_PID 2>/dev/null

# Immediately launch loading screen (no gap)
log_message "Launching loading screen..."
chromium-browser \
    --kiosk \
    --noerrdialogs \
    --disable-infobars \
    --start-fullscreen \
    "file://$LOADING_PAGE" 2>/dev/null &

CHROMIUM_PID=$!
log_message "Loading complete"
log_message "========================================="

# Keep running
wait $CHROMIUM_PID

I then rebooted my Raspberry PI 5.

This time when my Raspberry PI booted, it still displayed the Desktop for 1 or 2 seconds only.

Then the Startup video started playing with audio.

Then after about 3 seconds, the black.html web page displayed but I could still hear the Startup video audio playing in the background.

After about 5 more seconds, the chatty_loading.html web page opened up and played through.

Then, straight after this, the Chatty_AI_HighTech.html web ui page displayed.

I like the black.html web page but need it to display first before the Startup video plays.

I then ran: nickspi5@raspberrypi1:~ $ cd Chatty_AI
nickspi5@raspberrypi1:~/Chatty_AI $ source chatty-venv/bin/activate
(chatty-venv) nickspi5@raspberrypi1:~/Chatty_AI $ nano /home/nickspi5/Chatty_AI/hide_desktop.sh

I copied the following code into my hide_desktop.sh file:

#!/bin/bash
# Hide desktop panels
pkill lxpanel
# Hide desktop icons
pcmanfm --desktop-off

I then saved my hide_desktop.sh file.

I then ran: (chatty-venv) nickspi5@raspberrypi1:~/Chatty_AI $ chmod +x /home/nickspi5/Chatty_AI/hide_desktop.sh
(chatty-venv) nickspi5@raspberrypi1:~/Chatty_AI $ nano /home/nickspi5/Chatty_AI/chatty_ai_startup_final.sh

I then modified my chatty_ai_startup_final.sh file to include the following code:

# Set display
export DISPLAY=:0
export XAUTHORITY=/home/nickspi5/.Xauthority

# Wait for desktop to be ready
log_message "Waiting for desktop..."
while ! pgrep -x "pcmanfm" > /dev/null; do
    sleep 1
done

# After waiting for desktop
/home/nickspi5/Chatty_AI/hide_desktop.sh

I saved my chatty_ai_startup_final.sh file.

I then ran: (chatty-venv) nickspi5@raspberrypi1:~/Chatty_AI $ nano /home/nickspi5/Chatty_AI/show_desktop.sh

I then copied the following code into my show_desktop.sh file:

#!/bin/bash
# Restore panels
lxpanel --profile LXDE-pi &
# Restore desktop
pcmanfm --desktop --profile LXDE-pi &

I then saved my show_desktop.sh file.

I then rebooted my Raspberry PI 5.

This time my Raspberry PI 5 rebooted and the Desktop displayed for about 1 second.

The Startup video then started playing with audio.

After a few seconds, the black.html page displayed but again I could hear the Startup video audio playing in the background.

Then the chatty_loading.html web page opened up and played through.

Then, straight after this, the Chatty_AI_HighTech.html web ui page displayed.

Again, I want my Raspberry PI 5 to boot up.

I do not want to see the Desktop.

I want to see the black.html web page displayed first.

Then I want the Startup video to play with audio fully.

Then I want to see the chatty_loading.html web page open up and play through.

Then, straight after this, I want the Chatty_AI_HighTech.html web ui page displayed.





