Thank you ChatGPT. You are great.

I ran nickspi5@raspberrypi1:~/LocalAI $ sudo apt remove --purge golang-go
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following packages were automatically installed and are no longer required:
  golang-1.19 golang-1.19-doc golang-1.19-go golang-1.19-src golang-src
Use 'sudo apt autoremove' to remove them.
The following packages will be REMOVED:
  golang* golang-doc* golang-go*
0 upgraded, 0 newly installed, 3 to remove and 0 not upgraded.
After this operation, 95.2 kB disk space will be freed.
Do you want to continue? [Y/n] y
(Reading database ... 187488 files and directories currently installed.)
Removing golang:arm64 (2:1.19~1) ...
Removing golang-doc (2:1.19~1) ...
Removing golang-go:arm64 (2:1.19~1) ...
Processing triggers for man-db (2.11.2-2) ...
nickspi5@raspberrypi1:~/LocalAI $ cd ~
nickspi5@raspberrypi1:~ $ wget https://go.dev/dl/go1.23.0.linux-arm64.tar.gz
--2025-07-19 07:22:55--  https://go.dev/dl/go1.23.0.linux-arm64.tar.gz
Resolving go.dev (go.dev)... 2001:4860:4802:34::15, 2001:4860:4802:36::15, 2001:4860:4802:32::15, ...
Connecting to go.dev (go.dev)|2001:4860:4802:34::15|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://dl.google.com/go/go1.23.0.linux-arm64.tar.gz [following]
--2025-07-19 07:22:55--  https://dl.google.com/go/go1.23.0.linux-arm64.tar.gz
Resolving dl.google.com (dl.google.com)... 2404:6800:4006:80f::200e, 142.251.221.78
Connecting to dl.google.com (dl.google.com)|2404:6800:4006:80f::200e|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 70223029 (67M) [application/x-gzip]
Saving to: ‘go1.23.0.linux-arm64.tar.gz’

go1.23.0.linux-arm64.tar.gz     100%[=====================================================>]  66.97M   695KB/s    in 2m 32s  

2025-07-19 07:25:28 (450 KB/s) - ‘go1.23.0.linux-arm64.tar.gz’ saved [70223029/70223029]

nickspi5@raspberrypi1:~ $ sudo rm -rf /usr/local/go
nickspi5@raspberrypi1:~ $ sudo tar -C /usr/local -xzf go1.23.0.linux-arm64.tar.gz
nickspi5@raspberrypi1:~ $ export PATH=$PATH:/usr/local/go/bin
export GOROOT=/usr/local/go
export GOPATH=$HOME/go
nickspi5@raspberrypi1:~ $ go version
go version go1.23.0 linux/arm64
nickspi5@raspberrypi1:~ $ nano ~/.bashrc
nickspi5@raspberrypi1:~ $ source ~/.bashrc
nickspi5@raspberrypi1:~ $ go version
go version go1.23.0 linux/arm64
nickspi5@raspberrypi1:~ $ go env
GO111MODULE=''
GOARCH='arm64'
GOBIN=''
GOCACHE='/home/nickspi5/.cache/go-build'
GOENV='/home/nickspi5/.config/go/env'
GOEXE=''
GOEXPERIMENT=''
GOFLAGS=''
GOHOSTARCH='arm64'
GOHOSTOS='linux'
GOINSECURE=''
GOMODCACHE='/home/nickspi5/go/pkg/mod'
GONOPROXY=''
GONOSUMDB=''
GOOS='linux'
GOPATH='/home/nickspi5/go'
GOPRIVATE=''
GOPROXY='https://proxy.golang.org,direct'
GOROOT='/usr/local/go'
GOSUMDB='sum.golang.org'
GOTMPDIR=''
GOTOOLCHAIN='auto'
GOTOOLDIR='/usr/local/go/pkg/tool/linux_arm64'
GOVCS=''
GOVERSION='go1.23.0'
GODEBUG=''
GOTELEMETRY='local'
GOTELEMETRYDIR='/home/nickspi5/.config/go/telemetry'
GCCGO='gccgo'
GOARM64='v8.0'
AR='ar'
CC='gcc'
CXX='g++'
CGO_ENABLED='1'
GOMOD='/dev/null'
GOWORK=''
CGO_CFLAGS='-O2 -g'
CGO_CPPFLAGS=''
CGO_CXXFLAGS='-O2 -g'
CGO_FFLAGS='-O2 -g'
CGO_LDFLAGS='-O2 -g'
PKG_CONFIG='pkg-config'
GOGCCFLAGS='-fPIC -pthread -Wl,--no-gc-sections -fmessage-length=0 -ffile-prefix-map=/tmp/go-build1693468865=/tmp/go-build -gno-record-gcc-switches'
nickspi5@raspberrypi1:~ $ cd ~
nickspi5@raspberrypi1:~ $ git clone https://github.com/go-skynet/LocalAI.git
fatal: destination path 'LocalAI' already exists and is not an empty directory.
nickspi5@raspberrypi1:~ $ cd LocalAI
nickspi5@raspberrypi1:~/LocalAI $ make build
go mod edit -replace github.com/ggerganov/whisper.cpp=/home/nickspi5/LocalAI/sources/whisper.cpp
go: downloading go1.23.1 (linux/arm64)
go mod edit -replace github.com/ggerganov/whisper.cpp/bindings/go=/home/nickspi5/LocalAI/sources/whisper.cpp/bindings/go
go mod edit -replace github.com/mudler/go-piper=/home/nickspi5/LocalAI/sources/go-piper
go mod download
mkdir -p backend-assets
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@1958fcbe2ca8bd93af633f11e97d44e567e945af
go: downloading google.golang.org/grpc v1.65.0-dev.0.20240531204125-1958fcbe2ca8
go: downloading google.golang.org/grpc/cmd/protoc-gen-go-grpc v1.4.0
go: downloading google.golang.org/protobuf v1.34.1
go install google.golang.org/protobuf/cmd/protoc-gen-go@v1.34.2
go: downloading google.golang.org/protobuf v1.34.2
go install github.com/GeertJohan/go.rice/rice@latest
go: downloading github.com/GeertJohan/go.incremental v1.0.0
go: downloading github.com/akavel/rsrc v0.8.0
go: downloading github.com/jessevdk/go-flags v1.4.0
go: downloading github.com/nkovacs/streamquote v1.0.0
go: downloading github.com/valyala/fasttemplate v1.0.1
mkdir -p pkg/grpc/proto
protoc --experimental_allow_proto3_optional -Ibackend/ --go_out=pkg/grpc/proto/ --go_opt=paths=source_relative --go-grpc_out=pkg/grpc/proto/ --go-grpc_opt=paths=source_relative \
    backend/backend.proto
mkdir -p backend-assets/grpc
go build -ldflags "-s -w -X "github.com/mudler/LocalAI/internal.Version=v3.1.1-87-g932f6b01" -X "github.com/mudler/LocalAI/internal.Commit=932f6b01a6fe2f66c96ee9ac2e04c87596d75260"" -tags "" -o backend-assets/grpc/huggingface ./backend/go/llm/langchain/
I llama-cpp build info:avx
cp -rf backend/cpp/llama backend/cpp/llama-avx
make -C backend/cpp/llama-avx purge
make[1]: Entering directory '/home/nickspi5/LocalAI/backend/cpp/llama-avx'
rm -rf llama.cpp/build
rm -rf llama.cpp/tools/grpc-server
rm -rf grpc-server
make[1]: Leaving directory '/home/nickspi5/LocalAI/backend/cpp/llama-avx'
CMAKE_ARGS="-DBUILD_SHARED_LIBS=OFF -DGGML_NATIVE=OFF -DGGML_AVX=on -DGGML_AVX2=off -DGGML_AVX512=off -DGGML_FMA=off -DGGML_F16C=off" make VARIANT="llama-avx" build-llama-cpp-grpc-server
make[1]: Entering directory '/home/nickspi5/LocalAI'
echo "BUILD_GRPC_FOR_BACKEND_LLAMA is not defined."
BUILD_GRPC_FOR_BACKEND_LLAMA is not defined.
LLAMA_VERSION=d6fb3f6b49b27ef1c0f4cf5128e041f7e7dc03af make -C backend/cpp/llama-avx grpc-server
make[2]: Entering directory '/home/nickspi5/LocalAI/backend/cpp/llama-avx'
mkdir -p llama.cpp/tools/grpc-server
bash prepare.sh
Applying patch 01-llava.patch
patching file tools/mtmd/clip.cpp
patch unexpectedly ends in middle of line
Hunk #1 FAILED at 2608.
1 out of 1 hunk FAILED -- saving rejects to file tools/mtmd/clip.cpp.rej
'llama.cpp/vendor/nlohmann/json.hpp' -> 'llama.cpp/tools/grpc-server/json.hpp'
'llama.cpp/tools/server/utils.hpp' -> 'llama.cpp/tools/grpc-server/utils.hpp'
'llama.cpp/vendor/cpp-httplib/httplib.h' -> 'llama.cpp/tools/grpc-server/httplib.h'
Building grpc-server with  build type and -DBUILD_SHARED_LIBS=OFF -DGGML_NATIVE=OFF -DGGML_AVX=on -DGGML_AVX2=off -DGGML_AVX512=off -DGGML_FMA=off -DGGML_F16C=off -DGGML_NATIVE=OFF -DBUILD_SHARED_LIBS=OFF -DLLAMA_CURL=OFF
cd llama.cpp && mkdir -p build && cd build && cmake .. -DBUILD_SHARED_LIBS=OFF -DGGML_NATIVE=OFF -DGGML_AVX=on -DGGML_AVX2=off -DGGML_AVX512=off -DGGML_FMA=off -DGGML_F16C=off -DGGML_NATIVE=OFF -DBUILD_SHARED_LIBS=OFF -DLLAMA_CURL=OFF && cmake --build . --config Release --target grpc-server
-- The C compiler identification is GNU 12.2.0
-- The CXX compiler identification is GNU 12.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Git: /usr/bin/git (found version "2.39.5") 
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE  
-- Warning: ccache not found - consider installing it for faster compilation or disable this warning with GGML_CCACHE=OFF
-- CMAKE_SYSTEM_PROCESSOR: aarch64
-- GGML_SYSTEM_ARCH: ARM
-- Including CPU backend
-- Found OpenMP_C: -fopenmp (found version "4.5") 
-- Found OpenMP_CXX: -fopenmp (found version "4.5") 
-- Found OpenMP: TRUE (found version "4.5")  
-- ARM detected
-- Performing Test GGML_COMPILER_SUPPORTS_FP16_FORMAT_I3E
-- Performing Test GGML_COMPILER_SUPPORTS_FP16_FORMAT_I3E - Failed
-- ARM feature FMA enabled
-- Adding CPU backend variant ggml-cpu:  
-- ggml version: 0.0.5923
-- ggml commit:  d6fb3f6b
CMake Error at tools/grpc-server/CMakeLists.txt:20 (find_package):
  Could not find a package configuration file provided by "absl" with any of
  the following names:

    abslConfig.cmake
    absl-config.cmake

  Add the installation prefix of "absl" to CMAKE_PREFIX_PATH or set
  "absl_DIR" to a directory containing one of the above files.  If "absl"
  provides a separate development package or SDK, be sure it has been
  installed.

-- Configuring incomplete, errors occurred!
See also "/home/nickspi5/LocalAI/backend/cpp/llama-avx/llama.cpp/build/CMakeFiles/CMakeOutput.log".
See also "/home/nickspi5/LocalAI/backend/cpp/llama-avx/llama.cpp/build/CMakeFiles/CMakeError.log".
make[2]: *** [Makefile:81: grpc-server] Error 1
make[2]: Leaving directory '/home/nickspi5/LocalAI/backend/cpp/llama-avx'
make[1]: *** [Makefile:713: build-llama-cpp-grpc-server] Error 2
make[1]: Leaving directory '/home/nickspi5/LocalAI'
make: *** [Makefile:742: backend-assets/grpc/llama-cpp-avx] Error 2
nickspi5@raspberrypi1:~/LocalAI $ 

Is everything now correct?



